<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>AngularJs &bull; TodoMVC</title>
    <script type="text/javascript" src="js/main.js"></script>
    <script type="text/javascript" src="js/filterTasks.js"></script>
    <script type="text/javascript" src="js/clearCompleted.js"></script>
    <script type="text/javascript" src="js/helpers.js"></script>
    <script type="text/javascript" src="js/taskProperties.js"></script>
    <link rel="stylesheet" type="text/css" href="css/main.css">
</head>
<body>
    <div>
        <h1>todos</h1>
    </div>
    <div id="tasks-manager">
        <form>
            <div id="add-task" class="box-shadow">
                <input id="arrow" type="checkbox" class="hidden">
                <input type="text" id="add-task-input" name="input" placeholder="What needs to be done?">
            </div>
        </form>
    </div>
    <footer>
        <p>
            <div>Double-click to edit a todo</div>
            <div>Credits:&nbsp;<a href="https://twitter.com/cburgdorf">Christoph Burgdorf</a>,&nbsp;
            <a href="https://ericbidelman.tumblr.com/">Eric Bidelman</a>,&nbsp;
            <a href="http://jacobmumm.com/">Jacob Mumm</a>&nbsp;and&nbsp;
            <a href="http://blog.igorminar.com/">Igor Minar</a></div>
            <div>Part of&nbsp;<a href="http://todomvc.com/">TodoMVC</a></div>
        </p>

    </footer>


    <script>

        var ENTER_KEY_CODE = 13;
        var task = null;

        document.getElementById("add-task-input")
            .addEventListener("keydown", function(event) {
                if (event.keyCode == ENTER_KEY_CODE) {
                    event.preventDefault();
                    task = this.form["input"].value;
                    addTask();
                }
            });

        document.getElementById("arrow")
            .addEventListener("click", function() {
                var elements = document.getElementsByClassName("new-task");
                for(var j=0;j<elements.length;j++) {
                    var task = elements[j];
                    var checkInput = task.getElementsByClassName("checkbox")[0];

                    if (this.checked && !checkInput.checked){
                        checkInput.checked = true;
                        onCheck(checkInput, task);
                    }

                    if (!this.checked){
                        checkInput.checked = false;
                        onCheck(checkInput, task);
                    }
                }
            });

    </script>
</body>
</html>